import{r as o,u as v,j as e,H as k,b as N}from"./app-D1oRIfuU.js";import{A as P}from"./app-layout-DNYuzjLV.js";import{B as S}from"./button-DSl5uc3P.js";import{L as l,I as c}from"./label-C_bLCOpE.js";import{S as y,a as w,b as F,c as D,d as u}from"./select-C8U3zhbq.js";import"./index-BRnf22fb.js";import"./index-DgFQxb2L.js";import"./index-C6zhZjdx.js";const E=[{title:"Products",href:"/products"},{title:"Edit",href:"/products/edit"}];function _({product:s}){const[x,n]=o.useState(!1),[t,p]=o.useState({}),{data:i,setData:d}=v({name:(s==null?void 0:s.name)||"",sku:(s==null?void 0:s.sku)||"",unit:(s==null?void 0:s.unit)||"",image:null}),[h,j]=o.useState(null),b=a=>{var g;const r=((g=a.target.files)==null?void 0:g[0])||null;if(d("image",r),r){const m=new FileReader;m.onloadend=()=>{j(m.result)},m.readAsDataURL(r)}else j(null)},f=a=>{a.preventDefault(),n(!0),N.post(route("products.update",s.id),{...i,_method:"PUT"},{forceFormData:!0,onFinish:()=>{n(!1)},onError:r=>{p(r),n(!1)}})};return e.jsxs(P,{breadcrumbs:E,children:[e.jsx(k,{title:"Edit Product"}),e.jsxs("section",{className:"w-full px-6 py-10 md:px-12 lg:px-20",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Edit Product"}),e.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"Ubah informasi produk pada form berikut."})]}),e.jsxs("form",{onSubmit:f,encType:"multipart/form-data",className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",children:"Nama"}),e.jsx(c,{id:"name",value:i.name,onChange:a=>d("name",a.target.value),placeholder:"Nama produk"}),t.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.name})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"sku",children:"Kode Produk"}),e.jsx(c,{id:"sku",value:i.sku,readOnly:!0,placeholder:"Kode Produk"}),t.sku&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.sku})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"unit",children:"Unit"}),e.jsxs(y,{value:i.unit,onValueChange:a=>d("unit",a),children:[e.jsx(w,{children:e.jsx(F,{placeholder:"Pilih Jenis Unit"})}),e.jsxs(D,{children:[e.jsx(u,{value:"botol",children:"Botol"}),e.jsx(u,{value:"dus",children:"Dus"}),e.jsx(u,{value:"kotak",children:"Kotak"})]})]}),t.unit&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.unit})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{htmlFor:"image",children:"Gambar Produk"}),e.jsx(c,{id:"image",type:"file",onChange:b}),t.image&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.image}),h?e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"mb-1 text-sm text-muted-foreground",children:"Preview:"}),e.jsx("img",{src:h,alt:"Preview Produk",className:"h-48 w-auto rounded-lg border border-gray-300 object-contain dark:border-gray-700"})]}):e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"mb-1 text-sm text-muted-foreground",children:"Preview:"}),e.jsx("img",{src:s.image?`/storage/${s.image}`:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ6xKMudVFtik4Lw_hXqz_VD2tZtPlBDezD0w&s",alt:"Preview Produk",className:"h-48 w-auto rounded-lg border border-gray-300 object-contain dark:border-gray-700"})]})]}),e.jsx("div",{className:"mt-4 flex justify-end md:col-span-2",children:e.jsx(S,{type:"submit",disabled:x,children:x?"Menyimpan...":"Simpan"})})]})]})]})}export{_ as default};
